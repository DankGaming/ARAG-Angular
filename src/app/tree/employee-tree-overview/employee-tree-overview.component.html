<div *ngIf="tree">
    <app-header [title]="tree.name" [subtitle]="tree.description">
        <div class="header-buttons">
            <button class="button danger">
                <fa-icon [icon]="icons.faTrashAlt"></fa-icon>
                Verwijder
            </button>
            <button class="button" (click)="showEditTreeModal = true">
                <fa-icon [icon]="icons.faPen"></fa-icon>
                Bewerken
            </button>
            <button class="button primary">
                <fa-icon [icon]="icons.faAngleDoubleUp"></fa-icon>
                Publiceer
            </button>
            <button class="button" [routerLink]="['/customers', 'trees', tree.id]">
                <fa-icon [icon]="icons.faWalking"></fa-icon>
                Doorlopen
            </button>
        </div>
    </app-header>

    <div class="question-container">
        <div class="top-bar">
            <button class="back-button" (click)="back()" *ngIf="top &&  top.node.id !== tree.root.id">
                <fa-icon [icon]="icons.faArrowLeft"></fa-icon>
                Vorige vraag
            </button>
        </div>
        <div class="nodes-container" *ngIf="top?.node && top?.children">
            <app-node-wrapper>
                <app-node-container [tree]="tree" [node]="top.node" [isCurrentTop]="true" [graph]="graph"></app-node-container>
            </app-node-wrapper>

            <app-node-wrapper class="indent" *ngFor="let child of top.children">
                <app-node-container [tree]="tree" [node]="child" [graph]="graph" (expand)="changeTopNode($event)"></app-node-container>
            </app-node-wrapper>
        </div>
    </div>
</div>
<app-set-tree-modal *ngIf="showEditTreeModal" [tree]="tree" (closeModal)="showEditTreeModal = false"></app-set-tree-modal>